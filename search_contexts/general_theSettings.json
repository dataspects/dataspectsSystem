








"has_child": { "type": "annotation" } returns entities! --> inner_hits return ANNOTATIONS in inner_hits
"has_parent": { "type": "entity" } returns annotations! --> inner_hits return ENTITIES in inner_hits


















{
  "esQuery": {
    "index": "anonymous",
    "body": {
      "_source": {
        "includes": [
          "HasEntityName",
          "HasEntityURL",
          "HasEntityType",
          "HasEntityTitle",
          "HasEntityBlurbTEXT",
          "HasEntityBlurbHTML",
          "HasEntityContentTEXT"
        ],
        "excludes": []
      },
      "from": "{{from}}",
      "size": "{{size}}",
      "query": 
        
            {
              "query_string": {
                "query": "{{queryString}}",
                "fields": [
                  "custom_all",
                  "HasEntityTitle",
                  "HasEntityTitle.TOKCamelCaseFILLowerCase",
                  "HasEntityBlurbTEXT",
                  "HasEntityContentTEXT"
                ]
              
            }
      },
      "highlight": {
        "fields": {
          "HasEntity*": {}
        },
        "no_match_size": 100,
        "fragment_size": 50,
        "number_of_fragments": 2
      },
      "explain": false,
      "profile": false
    }
  },
  "searchResultSpecials": [
    {
      "conditions": {
        "must": {
          "HasEntityType": [""]
        }
      },
      "actions": [
        {
          "requestType": "actionRequest",
          "title": "Disambiguation",
          "query": {
            "queryName": "must_match_directField",
            "params": {
              "directField": {
                "name": "HasEntityTitle",
                "value": ".search-result@@@hasentityname"
              }
            },
            "return": "hit"
          },
          "view": "DisambiguationForEntityname",
          "show_button": {
            "conditions": {
              "always": false
            }
          },
          "execute": true
        }
      ]
    }
  ]
}