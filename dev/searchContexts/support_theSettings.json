{
  "esQuery": {
    "index": "",
    "body": {
      "_source": {
        "includes": [
          "HasEntityName",
          "HasEntityURL",
          "HasEntityType",
          "HasEntityTitle",
          "HasEntityBlurbTEXT",
          "HasEntityContentTEXT",
          "HasEntityContentSOURCE"
        ],
        "excludes": []
      },
      "version": true,
      "from": "{{from}}",
      "size": "{{size}}",
      "query": {
        "bool": {
          "must": [
            {
              "bool": {
                "should": [
                  {
                    "query_string": {
                      "default_field": "HasEntityName",
                      "query": "{{queryString}}",
                      "boost": "10"
                    }
                  },
                  {
                    "query_string": {
                      "default_field": "HasEntityContentSOURCE",
                      "query": "{{queryString}}"
                    }
                  }
                ]
              }
            },
            {
              "has_child": {
                "type": "annotation",
                "query": {
                  "match_all": {}
                },
                "inner_hits": {
                  "size": 100
                }
              }
            }
          ]
        }
      },
      "highlight": {
        "fields": {
          "HasEntity*": {}
        },
        "no_match_size": 100
      },
      "explain": false,
      "profile": false
    }
  },
  "searchResultSpecials": [
    {
      "conditions": {
        "must": {
          "HasEntityType": ["ErrorCode"]
        }
      },
      "actions": [
        {
          "requestType": "actionRequest",
          "title": "Problems",
          "query": {
            "queryName": "must_match_predicate_and_match_object",
            "params": {
              "object": ".search-result@@@hasentityname",
              "predicate": "MentionsErrorCode"
            },
            "return": "subject"
          },
          "view": "ProblemsForErrorCode",
          "show_button": {
            "conditions": {
              "always": false
            }
          },
          "execute": true
        }
      ]
    },
    {
      "conditions": {
        "must": {
          "HasEntityType": ["Problem"]
        }
      },
      "actions": [
        {
          "requestType": "actionRequest",
          "title": "Solutions",
          "query": {
            "queryName": "must_match_subject_and_match_predicate",
            "params": {
              "subject": ".search-result@@@hit_id",
              "predicate": "HasSolution"
            },
            "return": "object"
          },
          "view": "SolutionsForProblems",
          "show_button": {
            "conditions": {
              "always": false
            }
          },
          "execute": true
        },
        {
          "requestType": "actionRequest",
          "title": "May be caused by",
          "query": {
            "queryName": "must_match_subject_and_match_predicate",
            "params": {
              "predicate": "CanBeCausedByProblem",
              "subject": ".search-result@@@hit_id"
            },
            "return": "object"
          },
          "view": "ProblemsCausedByProblems",
          "show_button": {
            "conditions": {
              "always": false
            }
          },
          "execute": true
        }
      ]
    }
  ]
}
